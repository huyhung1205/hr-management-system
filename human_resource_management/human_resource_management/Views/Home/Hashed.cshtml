@{
    ViewBag.Title = "Mã hóa mật khẩu";
}

<!-- Hero Section -->
<section class="bg-blue-600 text-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center" data-aos="fade-up">
            <h1 class="text-4xl font-bold mb-4">Công cụ mã hóa SHA256</h1>
            <p class="text-xl text-blue-100">
                Mã hóa mật khẩu an toàn với thuật toán SHA256
            </p>
        </div>
    </div>
</section>

<!-- Hash Tool Section -->
<section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Main Card -->
        <div class="bg-white rounded-lg material-shadow p-8 mb-8" data-aos="fade-up">
            <!-- Input Section -->
            <div class="mb-6">
                <label for="passwordInput" class="block text-sm font-medium text-gray-700 mb-3">
                    Nhập mật khẩu
                </label>
                <input type="text" 
                       id="passwordInput" 
                       placeholder="Nhập mật khẩu cần mã hóa..." 
                       class="w-full px-4 py-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
                       oninput="hashPassword()">
            </div>

            <!-- Output Section -->
            <div class="mb-6">
                <div class="flex items-center justify-between mb-3">
                    <label class="block text-sm font-medium text-gray-700">
                        Mã hash SHA256
                    </label>
                    <button onclick="copyToClipboard()" 
                            id="copyBtn"
                            class="px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors material-shadow-sm">
                        Sao chép
                    </button>
                </div>
                <div class="relative">
                    <div id="hashedOutput" 
                         class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded font-mono text-sm break-all min-h-[60px] flex items-center text-gray-400">
                        Nhập mật khẩu để xem kết quả mã hóa
                    </div>
                    <div id="copiedMessage" 
                         class="hidden absolute -top-10 right-0 bg-green-600 text-white px-4 py-2 rounded shadow-lg text-sm">
                        Đã sao chép thành công!
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Cards -->
        <div class="grid md:grid-cols-2 gap-6 mb-8">
            <div class="bg-white rounded-lg material-shadow p-6" data-aos="fade-up" data-aos-delay="100">
                <div class="flex items-start">
                    <span class="material-icons text-blue-600 text-3xl mr-4">info</span>
                    <div>
                        <h3 class="font-bold text-gray-800 mb-2">Về SHA256</h3>
                        <p class="text-sm text-gray-600">
                            SHA256 là thuật toán băm mật mã học tạo ra chuỗi hash 64 ký tự từ bất kỳ đầu vào nào.
                        </p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg material-shadow p-6" data-aos="fade-up" data-aos-delay="200">
                <div class="flex items-start">
                    <span class="material-icons text-green-600 text-3xl mr-4">security</span>
                    <div>
                        <h3 class="font-bold text-gray-800 mb-2">Bảo mật</h3>
                        <p class="text-sm text-gray-600">
                            Hash SHA256 là một chiều và không thể giải mã ngược để lấy lại mật khẩu gốc.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Example Section -->
        <div class="bg-white rounded-lg material-shadow p-6" data-aos="fade-up">
            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                <span class="material-icons text-blue-600 mr-2">help_outline</span>
                Ví dụ
            </h3>
            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                <div class="grid md:grid-cols-2 gap-4 text-sm">
                    <div>
                        <span class="font-medium text-gray-700">Mật khẩu:</span>
                        <code class="ml-2 text-blue-600 bg-blue-50 px-2 py-1 rounded">123456</code>
                    </div>
                    <div>
                        <span class="font-medium text-gray-700">SHA256:</span>
                        <code class="ml-2 text-purple-600 bg-purple-50 px-2 py-1 rounded text-xs break-all">
                            6ca13d52ca70c883e0f0bb101e425a89e8624de51db2d2392593af6a84118090
                        </code>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        function hashPassword() {
            const password = document.getElementById('passwordInput').value;
            const output = document.getElementById('hashedOutput');
            
            if (password.trim() === '') {
                output.textContent = 'Nhập mật khẩu để xem kết quả mã hóa';
                output.classList.remove('text-purple-700', 'bg-purple-50', 'border-purple-300');
                output.classList.add('text-gray-400', 'bg-gray-50', 'border-gray-300');
                return;
            }
            
            const hash = CryptoJS.SHA256(password).toString();
            output.textContent = hash;
            output.classList.remove('text-gray-400', 'bg-gray-50', 'border-gray-300');
            output.classList.add('text-purple-700', 'bg-purple-50', 'border-purple-300');
        }
        
        function copyToClipboard() {
            const output = document.getElementById('hashedOutput');
            const text = output.textContent;
            
            if (text === 'Nhập mật khẩu để xem kết quả mã hóa') {
                return;
            }
            
            navigator.clipboard.writeText(text).then(() => {
                const message = document.getElementById('copiedMessage');
                message.classList.remove('hidden');
                
                setTimeout(() => {
                    message.classList.add('hidden');
                }, 2000);
            });
        }
    </script>
}
